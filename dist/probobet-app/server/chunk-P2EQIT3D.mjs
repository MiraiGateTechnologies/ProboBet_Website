import './polyfills.server.mjs';
import{b as M}from"./chunk-253FDQEK.mjs";import{a as N,b as v,c as I,d as T,i as O,k as V,l as j,r as B,s as q,t as R}from"./chunk-CEZLQFRU.mjs";import{o as k,q as E}from"./chunk-WZPXHYM4.mjs";import{Ab as C,Kb as d,Lb as P,Mb as _,Ra as F,Rb as x,U as b,Xa as a,Ya as h,Z as y,ba as S,gb as f,ib as c,qb as s,rb as l,sb as m,zb as w}from"./chunk-4MGEDM3G.mjs";import"./chunk-VVCT4QZE.mjs";var z=(()=>{let o=class o{constructor(t){this.http=t}changePassword(){return this.http.get("https://api.betguru.net/dash/changePassword")}};o.\u0275fac=function(n){return new(n||o)(y(M))},o.\u0275prov=b({token:o,factory:o.\u0275fac,providedIn:"root"});let r=o;return r})();function A(r,o){if(r&1&&(s(0,"div",16),d(1),l()),r&2){let u=C();a(),_(" ",u.getErrorMessage("currentPassword")," ")}}function H(r,o){if(r&1&&(s(0,"div",16),d(1),l()),r&2){let u=C();a(),_(" ",u.getErrorMessage("newPassword")," ")}}function L(r,o){r&1&&(s(0,"div",16),d(1," Passwords do not match. "),l())}function W(){return r=>{let o=r.value;if(!o)return null;let u=/[0-9]/.test(o),t=/[a-zA-Z]/.test(o),n=o.length>=8;return u&&t&&n?null:{passwordStrength:!0}}}var U=(()=>{let o=class o{constructor(t,n,e){this.formBuilder=t,this.elRef=n,this.changePasswordService=e,this.showPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.lastScrollTop=0}onScroll(t){let n=this.elRef.nativeElement.querySelector("#videoContainer"),e=this.elRef.nativeElement.querySelector("#myVideo"),i=window.pageYOffset||document.documentElement.scrollTop;i>this.lastScrollTop?e.currentTime+=.1:e.currentTime-=.1,this.lastScrollTop=i}ngOnInit(){this.changePasswordForm=this.formBuilder.group({currentPassword:["",v.required],newPassword:["",[v.required,W()]],confirmPassword:["",v.required]},{validator:this.passwordMatchValidator})}passwordMatchValidator(t){return t.controls.newPassword.value===t.controls.confirmPassword.value?null:{mismatch:!0}}onWindowScroll(){let t=document.getElementById("myVideo"),n=t.getBoundingClientRect().top,e=t.getBoundingClientRect().bottom;n<window.innerHeight&&e>=0?t.play():t.pause()}toggleCurrentPasswordVisibility(){this.showPassword=!this.showPassword}toggleNewPasswordVisibility(){this.showNewPassword=!this.showNewPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}onSubmit(){this.changePasswordForm.valid?console.log(this.changePasswordForm.value):Object.keys(this.changePasswordForm.controls).forEach(t=>{let n=this.changePasswordForm.get(t)})}getErrorMessage(t){let n=this.changePasswordForm.get(t);if(n&&n.touched){if(n.hasError("required"))return"This field is required.";if(t==="newPassword"&&n.hasError("passwordStrength"))return"Password must be at least 8 characters long";if(this.changePasswordForm.hasError("mismatch")&&(t==="newPassword"||t==="confirmPassword"))return"Passwords do not match."}return""}goBack(){window.history.back()}};o.\u0275fac=function(n){return new(n||o)(h(B),h(F),h(z))},o.\u0275cmp=S({type:o,selectors:[["app-changepassword"]],standalone:!0,features:[x],decls:34,vars:10,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-6","offset-md-3"],["src",".././../../../assets/arrow.png","alt","...",1,"img-fluid","backicon",3,"click"],[1,"text-center"],["novalidate","",3,"formGroup","ngSubmit"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-lock-fill",2,"color","white"],["id","password","formControlName","currentPassword","placeholder","Current Password",1,"form-control",3,"type"],[1,"material-icons","toggle-icon",2,"color","white",3,"click"],["class","alert alert-danger",4,"ngIf"],["id","newPassword","formControlName","newPassword","placeholder","New Password",1,"form-control",3,"type"],["id","confirmPassword","formControlName","confirmPassword","placeholder","Confirm New Password",1,"form-control",3,"type"],[1,"col-12","d-flex","justify-content-center","mb-3","text-white",2,"margin-top","15px"],["type","submit",1,"btn","submit-btn",2,"margin-top","10px"],[1,"alert","alert-danger"]],template:function(n,e){if(n&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),w("click",function(){return e.goBack()}),l(),s(4,"h2",4),d(5,"Change Password"),l(),s(6,"form",5),w("ngSubmit",function(){return e.onSubmit()}),s(7,"div",6)(8,"span",7),m(9,"i",8),l(),m(10,"input",9),s(11,"span",7)(12,"i",10),w("click",function(){return e.toggleCurrentPasswordVisibility()}),d(13),l()()(),f(14,A,2,1,"div",11),s(15,"div",6)(16,"span",7),m(17,"i",8),l(),m(18,"input",12),s(19,"span",7)(20,"i",10),w("click",function(){return e.toggleNewPasswordVisibility()}),d(21),l()()(),f(22,H,2,1,"div",11),s(23,"div",6)(24,"span",7),m(25,"i",8),l(),m(26,"input",13),s(27,"span",7)(28,"i",10),w("click",function(){return e.toggleConfirmPasswordVisibility()}),d(29),l()()(),f(30,L,2,0,"div",11),s(31,"div",14)(32,"button",15),d(33,"Change Password"),l()()()()()()),n&2){let i,p,g;a(6),c("formGroup",e.changePasswordForm),a(4),c("type",e.showPassword?"text":"password"),a(3),P(e.showPassword?"visibility":"visibility_off"),a(),c("ngIf",((i=e.changePasswordForm.get("currentPassword"))==null?null:i.errors)&&(((i=e.changePasswordForm.get("currentPassword"))==null?null:i.dirty)||((i=e.changePasswordForm.get("currentPassword"))==null?null:i.touched))),a(4),c("type",e.showNewPassword?"text":"password"),a(3),P(e.showNewPassword?"visibility":"visibility_off"),a(),c("ngIf",((p=e.changePasswordForm.get("newPassword"))==null?null:p.errors)&&(((p=e.changePasswordForm.get("newPassword"))==null?null:p.dirty)||((p=e.changePasswordForm.get("newPassword"))==null?null:p.touched))),a(4),c("type",e.showConfirmPassword?"text":"password"),a(3),P(e.showConfirmPassword?"visibility":"visibility_off"),a(),c("ngIf",(e.changePasswordForm.errors==null?null:e.changePasswordForm.errors.mismatch)&&(((g=e.changePasswordForm.get("newPassword"))==null?null:g.touched)||((g=e.changePasswordForm.get("confirmPassword"))==null?null:g.touched)))}},dependencies:[q,O,N,I,T,R,V,j,E,k],styles:[".form-control[_ngcontent-%COMP%]{background-color:#000;color:#fff}.input-group[_ngcontent-%COMP%]{margin-top:10px}.alert-danger[_ngcontent-%COMP%]{background-color:#000!important;color:red;border:none;font-size:14px;padding:5px;font-weight:400px;font-family:poppins,sans-serif}input[type=password][_ngcontent-%COMP%]:focus{border-color:none!important;box-shadow:none!important;outline:0 none!important}.form-control[_ngcontent-%COMP%]::placeholder{color:#fff;font-family:poppins;font-size:14px}.input-group-text[_ngcontent-%COMP%]{background-color:#000}.btn-warning[_ngcontent-%COMP%]{background-color:#ffb449!important}.backicon[_ngcontent-%COMP%]{justify-content:start;text-align:start;position:absolute;left:15px;margin-top:5px}#set-height[_ngcontent-%COMP%]{display:block}#v0[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%}p[_ngcontent-%COMP%]   font-family[_ngcontent-%COMP%]   helvetica[_ngcontent-%COMP%]{font-size:24px}.submit-btn[_ngcontent-%COMP%]{background-color:#ffb449}"]});let r=o;return r})();export{U as ChangepasswordComponent,W as passwordStrengthValidator};
